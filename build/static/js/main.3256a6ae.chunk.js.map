{"version":3,"sources":["components/Home.js","components/Blog.js","components/Notification.js","components/LoginForm.js","components/BlogForm.js","components/RegisterForm.js","components/Togglabe.js","services/blogs.js","services/login.js","services/register.js","App.js","index.js"],"names":["Home","user","blogs","showAll","setShowAll","Blog","blogForm","updateBlog","delBlog","logOut","to","name","onClick","map","blog","i","useState","visible","setVisible","showDetails","display","hideDetails","like","id","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","title","likes","author","content","Notification","message","LoginForm","username","password","handleUsernameChange","handlePasswordChange","handleLogin","history","useHistory","onSubmit","autoComplete","value","onChange","type","push","BlogForm","createBlog","newTitle","setNewTitle","newContent","setNewContent","event","preventDefault","target","RegisterForm","handleNameChange","handleRegister","Togglable","React","forwardRef","props","ref","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","displayName","baseUrl","token","getAll","a","axios","get","response","data","getOne","newObject","config","headers","Authorization","post","update","request","put","setToken","newToken","deleteBlog","delete","login","credentials","register","App","setBlogs","setUser","errorMessage","setErrorMessage","setName","setUsername","setPassword","blogFormRef","useRef","useEffect","blogService","then","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","loginService","setItem","stringify","setTimeout","console","log","registerService","addBlog","blogObject","current","returnedBlog","concat","find","toUpdate","updateo","filter","path","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.3256a6ae.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst Home = ({\r\n  user,\r\n  blogs,\r\n  showAll,\r\n  setShowAll,\r\n  Blog,\r\n  blogForm,\r\n  updateBlog,\r\n  delBlog,\r\n  logOut\r\n}) => {\r\n\r\n  return (\r\n    <div>\r\n      {user === null ?\r\n        <div>\r\n          <h2>Blog app</h2>\r\n          <button><Link to=\"/login\">Login</Link></button>\r\n          <button><Link to=\"/register\">Register</Link></button>\r\n        </div> :\r\n        <div>\r\n          <h2>Blogs</h2>\r\n          <p>\r\n            {user.name} logged-in\r\n            <button onClick={(() => logOut())}>Log out</button>\r\n          </p>\r\n          {blogForm()}\r\n          <div>\r\n            <button onClick={() => setShowAll(!showAll)}>\r\n              {showAll ? 'hide' : 'show'}\r\n            </button>\r\n          </div>\r\n          <ul>\r\n            {showAll === true ?\r\n              blogs.map((blog, i) =>\r\n                <Blog\r\n                  key={i}\r\n                  blog={blog}\r\n                  updateBlog={updateBlog}\r\n                  delBlog={delBlog} />\r\n              )\r\n              : ''\r\n            }\r\n          </ul>\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Home","import React, { useState } from 'react'\r\n\r\nconst Blog = ({ blog, updateBlog, delBlog }) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const showDetails = { display: visible ? '' : 'none' }\r\n  const hideDetails = { display: visible ? 'none' : '' }\r\n\r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n\r\n  const like = (id) => {\r\n    updateBlog(id)\r\n  }\r\n\r\n  const deletBlog = (id) => {\r\n    delBlog(id)\r\n  }\r\n\r\n  return (\r\n    <div style={blogStyle}>\r\n      <div style={hideDetails} className=\"blog-preview\">\r\n        <b>Title: </b> {blog.title} <b>Likes: </b> {blog.likes}\r\n        <hr></hr>\r\n        <button id=\"likeButton\" onClick={() => like(blog.id, blog.title, blog.author, blog.content, blog.likes)}>Like</button>\r\n        <br></br>\r\n        <button onClick={() => setVisible(!visible)}>\r\n          { visible ? 'Hide' : 'More' }\r\n        </button>\r\n      </div>\r\n      <div style={showDetails} className=\"blog-full\">\r\n        <b>Title: </b> {blog.title}\r\n        <br></br>\r\n        <b>Author: </b> {blog.author}\r\n        <br></br>\r\n        <b>Content: </b> {blog.content}\r\n        <br></br>\r\n        <b>Likes: </b> {blog.likes}\r\n        <button onClick={() => like(blog.id, blog.title, blog.author, blog.content, blog.likes)}>Like</button>\r\n        <br></br>\r\n        <button onClick={() => setVisible(!visible)}>\r\n          { visible ? 'Hide' : 'More' }\r\n        </button>\r\n        <button onClick={() => deletBlog(blog.id)}>Delete</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog","import '../App.css'\r\nimport React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Redirect, useHistory } from 'react-router-dom'\r\nimport './styledForm.css'\r\n\r\nconst LoginForm = ({\r\n  username,\r\n  password,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  handleLogin,\r\n  user\r\n}) => {\r\n  let history = useHistory()\r\n\r\n  return (\r\n    user === null ?\r\n      <div className=\"login-container\">\r\n        <div className=\"align-container\">\r\n          <h2>Login</h2>\r\n          <form onSubmit={handleLogin}>\r\n            <div className=\"inputField\">\r\n              <h3>Username</h3>\r\n              <input\r\n                id=\"username\"\r\n                autoComplete=\"off\"\r\n                value={username}\r\n                onChange={handleUsernameChange}\r\n              />\r\n            </div>\r\n            <div className=\"inputField\">\r\n              <h3>Password</h3>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"off\"\r\n                value={password}\r\n                onChange={handlePasswordChange}\r\n              />\r\n            </div>\r\n            <button className=\"submit-button\" type=\"submit\">\r\n            Login\r\n            </button>\r\n          </form>\r\n          <button className=\"back-button\" onClick={() => history.push('/')}>Back to home</button>\r\n        </div>\r\n      </div>\r\n      :\r\n      <Redirect to='/' />\r\n  )\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  handleLogin: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n}\r\n\r\nexport default LoginForm","import React, { useState } from 'react'\r\n\r\nconst BlogForm = ({ createBlog, user }) => {\r\n  const [newTitle, setNewTitle] = useState('')\r\n  const [newContent, setNewContent] = useState('')\r\n\r\n  const handleTitle = event => {\r\n    setNewTitle(event.target.value)\r\n  }\r\n\r\n  const handleContent = event => {\r\n    setNewContent(event.target.value)\r\n  }\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault()\r\n    createBlog({\r\n      title: newTitle,\r\n      author: user.name,\r\n      content: newContent,\r\n      likes: 0\r\n    })\r\n\r\n    setNewTitle('')\r\n    setNewContent('')\r\n  }\r\n\r\n  return (\r\n    <div className=\"formDiv\">\r\n      <form onSubmit={addBlog}>\r\n        <div>\r\n            Title:\r\n          <input\r\n            id=\"title\"\r\n            type=\"text\"\r\n            value={newTitle}\r\n            onChange={handleTitle}\r\n          />\r\n        </div>\r\n        <div>\r\n            Content:\r\n          <input\r\n            type=\"text\"\r\n            value={newContent}\r\n            onChange={handleContent}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm","import React from 'react'\r\nimport { Redirect, useHistory } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\nimport './styledForm.css'\r\n\r\nconst RegisterForm = ({\r\n  name,\r\n  username,\r\n  password,\r\n  handleNameChange,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  handleRegister,\r\n  user\r\n}) => {\r\n  let history = useHistory()\r\n\r\n  return (\r\n    user === null ?\r\n      <div className=\"login-container\">\r\n        <div className=\"align-container\">\r\n          <h2>Register</h2>\r\n          <form onSubmit={handleRegister}>\r\n            <div className=\"inputField\">\r\n              <h3>Full Name</h3>\r\n              <input\r\n                id=\"name\"\r\n                autoComplete=\"off\"\r\n                value={name}\r\n                onChange={handleNameChange}\r\n              />\r\n            </div>\r\n            <div className=\"inputField\">\r\n              <h3>Username</h3>\r\n              <input\r\n                id=\"username\"\r\n                autoComplete=\"off\"\r\n                value={username}\r\n                onChange={handleUsernameChange}\r\n              />\r\n            </div>\r\n            <div className=\"inputField\">\r\n              <h3>Password</h3>\r\n              <input\r\n                id=\"password\"\r\n                type=\"password\"\r\n                autoComplete=\"off\"\r\n                value={password}\r\n                onChange={handlePasswordChange}\r\n              />\r\n            </div>\r\n            <button className=\"submit-button\" type=\"submit\">\r\n            Sign up\r\n            </button>\r\n          </form>\r\n          <button className=\"back-button\" onClick={() => history.push('/')}>Back to home</button>\r\n        </div>\r\n      </div>\r\n      :\r\n      <Redirect to='/' />\r\n  )\r\n}\r\n\r\nRegisterForm.propTypes = {\r\n  name: PropTypes.string.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired,\r\n  handleNameChange: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  handleRegister: PropTypes.func.isRequired,\r\n  user: PropTypes.string.isRequired\r\n}\r\n\r\nexport default RegisterForm","/* eslint-disable linebreak-style */\r\nimport React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible} className=\"blog-full\">\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl, token)\r\n  return response.data\r\n}\r\n\r\nconst getOne = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n\r\nconst createBlog = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst deleteBlog = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const request = axios.delete(`${ baseUrl }/${id}`, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, createBlog, update, setToken, deleteBlog, getOne }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","import axios from 'axios'\r\nconst baseUrl = '/api/register'\r\n\r\nconst register = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { register }","/* eslint-disable linebreak-style */\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport Home from './components/Home'\r\nimport Blog from './components/Blog'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport BlogForm from './components/BlogForm'\r\nimport RegisterForm from './components/RegisterForm'\r\nimport Togglable from './components/Togglabe'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\nimport registerService from './services/register'\r\nimport { Switch, Route } from 'react-router-dom'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [user, setUser] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [name, setName] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  useEffect(() => {\r\n    blogService\r\n      .getAll()\r\n      .then(initialBlogs => {\r\n        setBlogs(initialBlogs)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  // ----- Handlers ------\r\n  const handleLogin = async event => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password,\r\n      })\r\n\r\n      window.localStorage.setItem(\r\n        'loggedBlogappUser', JSON.stringify(user)\r\n      )\r\n\r\n      blogService.setToken(user.token)\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      setErrorMessage('Wrong credentials')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  console.log(user)\r\n  const handleRegister = async event => {\r\n    event.preventDefault()\r\n    try {\r\n      await registerService.register({\r\n        username, name, password,\r\n      })\r\n      handleLogin(event)\r\n    } catch (exception) {\r\n      setErrorMessage('An error ocurred')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n\r\n  // ----- Add blog function ------\r\n  const addBlog = (blogObject) => {\r\n    blogFormRef.current.toggleVisibility()\r\n    blogService\r\n      .createBlog(blogObject)\r\n      .then(returnedBlog => {\r\n        setBlogs(blogs.concat(returnedBlog))\r\n      })\r\n  }\r\n\r\n  // ----- Update Blog -----\r\n  const updateBlog = async (id) => {\r\n    const blog = blogs.find(blog => blog.id === id)\r\n    const toUpdate = { ...blog, likes: blog.likes + 1 }\r\n    const updateo = await blogService.update(id, toUpdate)\r\n    setBlogs(blogs.map(blog => blog.id !== id ? blog : updateo))\r\n  }\r\n\r\n  // ----- Delete Blog -----\r\n  const delBlog = async (id) => {\r\n    try {\r\n      await blogService.deleteBlog(id)\r\n      setBlogs(blogs.filter(blog => blog.id !== id))\r\n    } catch (error) {\r\n      setErrorMessage('You are not allowed to delete this blog')\r\n    }\r\n  }\r\n\r\n  const blogForm = () => (\r\n    <Togglable buttonLabel='new blog' ref={blogFormRef}>\r\n      <BlogForm\r\n        createBlog={addBlog}\r\n        user={user}\r\n      />\r\n    </Togglable>\r\n  )\r\n\r\n  const logOut = () => {\r\n    window.localStorage.removeItem('loggedBlogappUser')\r\n    setUser(null)\r\n    setName('')\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Notification message={errorMessage}/>\r\n      <Switch>\r\n        <Route path='/login'>\r\n          <LoginForm\r\n            username={username}\r\n            password={password}\r\n            handleUsernameChange={({ target }) => setUsername(target.value)}\r\n            handlePasswordChange={({ target }) => setPassword(target.value)}\r\n            handleLogin={handleLogin}\r\n            user={user}\r\n          />\r\n        </Route>\r\n        <Route path='/register'>\r\n          <RegisterForm\r\n            name={name}\r\n            username={username}\r\n            password={password}\r\n            handleNameChange={({ target }) => setName(target.value)}\r\n            handleUsernameChange={({ target }) => setUsername(target.value)}\r\n            handlePasswordChange={({ target }) => setPassword(target.value)}\r\n            handleRegister={handleRegister}\r\n            user={user}\r\n          />\r\n        </Route>\r\n        <Route path='/'>\r\n          <Home\r\n            user={user}\r\n            blogs={blogs}\r\n            showAll={showAll}\r\n            setShowAll={setShowAll}\r\n            Blog={Blog}\r\n            blogForm={blogForm}\r\n            updateBlog={updateBlog}\r\n            delBlog={delBlog}\r\n            logOut={logOut}\r\n          />\r\n        </Route>\r\n      </Switch>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","/* eslint-disable linebreak-style */\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport { BrowserRouter as Router } from 'react-router-dom'\r\n\r\nReactDOM.render(\r\n  <Router>\r\n    <App />\r\n  </Router>,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}