{"version":3,"sources":["components/Blog.js","components/Notification.js","components/LoginForm.js","components/BlogForm.js","components/Togglabe.js","services/blogs.js","services/login.js","App.js","index.js"],"names":["Blog","blog","updateBlog","delBlog","useState","visible","setVisible","showDetails","display","hideDetails","like","id","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","className","title","likes","onClick","author","content","Notification","message","LoginForm","username","password","handleUsernameChange","handlePasswordChange","handleLogin","onSubmit","value","onChange","type","BlogForm","createBlog","newTitle","setNewTitle","newContent","setNewContent","console","log","event","preventDefault","name","target","Togglable","React","forwardRef","props","ref","hideWhenVisible","showWhenVisible","toggleVisibility","useImperativeHandle","buttonLabel","children","displayName","baseUrl","token","getAll","a","axios","get","response","data","getOne","newObject","config","headers","Authorization","post","update","request","put","setToken","newToken","deleteBlog","delete","login","credentials","App","blogs","setBlogs","user","setUser","errorMessage","setErrorMessage","showAll","setShowAll","setUsername","setPassword","blogFormRef","useRef","useEffect","blogService","then","initialBlogs","loggedUserJSON","window","localStorage","getItem","JSON","parse","loginService","setItem","stringify","setTimeout","addBlog","blogObject","current","returnedBlog","concat","find","toUpdate","updateo","map","filter","removeItem","i","ReactDOM","render","document","getElementById"],"mappings":"0OAsDeA,EApDF,SAAC,GAAmC,IAAjCC,EAAgC,EAAhCA,KAAMC,EAA0B,EAA1BA,WAAYC,EAAc,EAAdA,QAAc,EAChBC,oBAAS,GADO,mBACvCC,EADuC,KAC9BC,EAD8B,KAGxCC,EAAc,CAAEC,QAASH,EAAU,GAAK,QACxCI,EAAc,CAAED,QAASH,EAAU,OAAS,IAU5CK,EAAO,SAACC,GACZT,EAAWS,IAOb,OACE,sBAAKC,MAjBW,CAChBC,WAAY,GACZC,YAAa,EACbC,OAAQ,QACRC,YAAa,EACbC,aAAc,GAYd,UACE,sBAAKL,MAAOH,EAAaS,UAAU,eAAnC,UACE,wCADF,IACkBjB,EAAKkB,MADvB,IAC8B,wCAD9B,IAC8ClB,EAAKmB,MACjD,uBACA,wBAAQT,GAAG,aAAaU,QAAS,kBAAMX,EAAKT,EAAKU,GAAIV,EAAKkB,MAAOlB,EAAKqB,OAAQrB,EAAKsB,QAAStB,EAAKmB,QAAjG,kBACA,uBACA,wBAAQC,QAAS,kBAAMf,GAAYD,IAAnC,SACIA,EAAU,OAAS,YAGzB,sBAAKO,MAAOL,EAAaW,UAAU,YAAnC,UACE,wCADF,IACkBjB,EAAKkB,MACrB,uBACA,yCAHF,IAGmBlB,EAAKqB,OACtB,uBACA,0CALF,IAKoBrB,EAAKsB,QACvB,uBACA,wCAPF,IAOkBtB,EAAKmB,MACrB,wBAAQC,QAAS,kBAAMX,EAAKT,EAAKU,GAAIV,EAAKkB,MAAOlB,EAAKqB,OAAQrB,EAAKsB,QAAStB,EAAKmB,QAAjF,kBACA,uBACA,wBAAQC,QAAS,kBAAMf,GAAYD,IAAnC,SACIA,EAAU,OAAS,SAEvB,wBAAQgB,QAAS,kBA5BJV,EA4BoBV,EAAKU,QA3B1CR,EAAQQ,GADQ,IAACA,GA4Bb,2BCjCOa,G,KAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACtB,OAAgB,OAAZA,EACK,KAIP,qBAAKP,UAAU,QAAf,SACGO,MCqCQC,EA5CG,SAAC,GAMZ,IALLC,EAKI,EALJA,SACAC,EAII,EAJJA,SACAC,EAGI,EAHJA,qBACAC,EAEI,EAFJA,qBACAC,EACI,EADJA,YAEA,OACE,gCACE,uCACA,uBAAMC,SAAUD,EAAhB,UACE,2CAEE,uBACEpB,GAAG,WACHsB,MAAON,EACPO,SAAUL,OAGd,2CAEE,uBACElB,GAAG,WACHwB,KAAK,WACLF,MAAOL,EACPM,SAAUJ,OAGd,wBAAQnB,GAAG,eAAewB,KAAK,SAA/B,0BCuCOC,EApEE,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,WAAYV,EAAe,EAAfA,SAAe,EACbvB,mBAAS,IADI,mBACtCkC,EADsC,KAC5BC,EAD4B,OAGTnC,mBAAS,IAHA,mBAGtCoC,EAHsC,KAG1BC,EAH0B,KAK7CC,QAAQC,IAAIhB,GA2BZ,OACE,qBAAKT,UAAU,UAAf,SACE,uBAAMc,SAhBM,SAACY,GACfA,EAAMC,iBACNR,EAAW,CACTlB,MAAOmB,EACPhB,OAAQK,EAASmB,KACjBvB,QAASiB,EACTpB,MAAO,IAGTmB,EAAY,IAEZE,EAAc,KAKZ,UACE,yCAEE,uBACE9B,GAAG,QACHwB,KAAK,OACLF,MAAOK,EACPJ,SAnCU,SAAAU,GAClBL,EAAYK,EAAMG,OAAOd,aA+CrB,2CAEE,uBACEE,KAAK,OACLF,MAAOO,EACPN,SA7CY,SAAAU,GACpBH,EAAcG,EAAMG,OAAOd,aA+CvB,wBAAQE,KAAK,SAAb,uBC5DFa,EAAYC,IAAMC,YAAW,SAACC,EAAOC,GAAS,IAAD,EACnBhD,oBAAS,GADU,mBAC1CC,EAD0C,KACjCC,EADiC,KAG3C+C,EAAkB,CAAE7C,QAASH,EAAU,OAAS,IAChDiD,EAAkB,CAAE9C,QAASH,EAAU,GAAK,QAE5CkD,EAAmB,WACvBjD,GAAYD,IASd,OANAmD,8BAAoBJ,GAAK,WACvB,MAAO,CACLG,uBAKF,gCACE,qBAAK3C,MAAOyC,EAAZ,SACE,wBAAQhC,QAASkC,EAAjB,SAAoCJ,EAAMM,gBAE5C,sBAAK7C,MAAO0C,EAAiBpC,UAAU,YAAvC,UACGiC,EAAMO,SACP,wBAAQrC,QAASkC,EAAjB,6BAMRP,EAAUW,YAAc,YAKTX,Q,gBCrCTY,EAAU,aAEZC,EAAQ,KAMNC,EAAM,uCAAG,4BAAAC,EAAA,sEACUC,IAAMC,IAAIL,EAASC,GAD7B,cACPK,EADO,yBAENA,EAASC,MAFH,2CAAH,qDAKNC,EAAM,uCAAG,WAAOzD,GAAP,eAAAoD,EAAA,sEACUC,IAAMC,IAAN,UAAaL,EAAb,YAAwBjD,IADlC,cACPuD,EADO,yBAENA,EAASC,MAFH,2CAAH,sDA6BG,GAAEL,SAAQzB,WAxBT,uCAAG,WAAMgC,GAAN,iBAAAN,EAAA,6DACXO,EAAS,CACbC,QAAS,CAAEC,cAAeX,IAFX,SAKMG,IAAMS,KAAKb,EAASS,EAAWC,GALrC,cAKXJ,EALW,yBAMVA,EAASC,MANC,2CAAH,sDAwBqBO,OAfzB,uCAAG,WAAO/D,EAAI0D,GAAX,iBAAAN,EAAA,6DACPY,EAAUX,IAAMY,IAAN,UAAchB,EAAd,YAA0BjD,GAAM0D,GADnC,SAEUM,EAFV,cAEPT,EAFO,yBAGNA,EAASC,MAHH,2CAAH,wDAeiCU,SAtC5B,SAAAC,GACfjB,EAAK,iBAAaiB,IAqCmCC,WATvC,uCAAG,WAAOpE,GAAP,mBAAAoD,EAAA,6DACXO,EAAS,CACbC,QAAS,CAAEC,cAAeX,IAEtBc,EAAUX,IAAMgB,OAAN,UAAiBpB,EAAjB,YAA6BjD,GAAM2D,GAJlC,SAKMK,EALN,cAKXT,EALW,yBAMVA,EAASC,MANC,2CAAH,sDASmDC,UCnCpD,GAAEa,MALN,uCAAG,WAAMC,GAAN,eAAAnB,EAAA,sEACWC,IAAMS,KAHf,aAG6BS,GAD/B,cACNhB,EADM,yBAELA,EAASC,MAFJ,2CAAH,uDCkJIgB,EA1IH,WAAO,IAAD,EACU/E,mBAAS,IADnB,mBACTgF,EADS,KACFC,EADE,OAEQjF,mBAAS,MAFjB,mBAETkF,EAFS,KAEHC,EAFG,OAGwBnF,mBAAS,MAHjC,mBAGToF,EAHS,KAGKC,EAHL,OAIcrF,oBAAS,GAJvB,mBAITsF,EAJS,KAIAC,EAJA,OAKgBvF,mBAAS,IALzB,mBAKTuB,EALS,KAKCiE,EALD,OAMgBxF,mBAAS,IANzB,mBAMTwB,EANS,KAMCiE,EAND,KAQVC,EAAcC,mBAEpBC,qBAAU,WACRC,EACGnC,SACAoC,MAAK,SAAAC,GACJd,EAASc,QAEZ,IAEHH,qBAAU,WACR,IAAMI,EAAiBC,OAAOC,aAAaC,QAAQ,qBACnD,GAAIH,EAAgB,CAClB,IAAMd,EAAOkB,KAAKC,MAAML,GACxBb,EAAQD,GACRW,EAAYpB,SAASS,EAAKzB,UAE3B,IAGH,IAAM9B,EAAW,uCAAG,WAAOa,GAAP,eAAAmB,EAAA,6DAClBnB,EAAMC,iBADY,kBAGG6D,EAAazB,MAAM,CACpCtD,WAAUC,aAJI,OAGV0D,EAHU,OAOhBe,OAAOC,aAAaK,QAClB,oBAAqBH,KAAKI,UAAUtB,IAGtCW,EAAYpB,SAASS,EAAKzB,OAC1B0B,EAAQD,GACRM,EAAY,IACZC,EAAY,IAdI,kDAgBhBJ,EAAgB,qBAChBoB,YAAW,WACTpB,EAAgB,QACf,KAnBa,0DAAH,sDAuBXqB,EAAU,SAACC,GACfjB,EAAYkB,QAAQzD,mBACpB0C,EACG5D,WAAW0E,GACXb,MAAK,SAAAe,GACJ5B,EAASD,EAAM8B,OAAOD,QAKtB/G,EAAU,uCAAG,WAAOS,GAAP,mBAAAoD,EAAA,6DACX9D,EAAOmF,EAAM+B,MAAK,SAAAlH,GAAI,OAAIA,EAAKU,KAAOA,KACtCyG,EAFW,2BAEKnH,GAFL,IAEWmB,MAAOnB,EAAKmB,MAAQ,IAF/B,SAGK6E,EAAYvB,OAAO/D,EAAIyG,GAH5B,OAGXC,EAHW,OAIjBhC,EAASD,EAAMkC,KAAI,SAAArH,GAAI,OAAIA,EAAKU,KAAOA,EAAKV,EAAOoH,MAJlC,2CAAH,sDAQVlH,EAAO,uCAAG,WAAOQ,GAAP,SAAAoD,EAAA,sEACRkC,EAAYlB,WAAWpE,GADf,OAEd0E,EAASD,EAAMmC,QAAO,SAAAtH,GAAI,OAAIA,EAAKU,KAAOA,MAF5B,2CAAH,sDA+Bb,OACE,sBAAKO,UAAU,MAAf,UACE,uCACA,cAAC,EAAD,CAAcO,QAAS+D,IAEb,OAATF,EA7BH,cAAC,EAAD,CAAW7B,YAAY,QAAvB,SACE,cAAC,EAAD,CACE9B,SAAUA,EACVC,SAAUA,EACVC,qBAAsB,gBAAGkB,EAAH,EAAGA,OAAH,OAAgB6C,EAAY7C,EAAOd,QACzDH,qBAAsB,gBAAGiB,EAAH,EAAGA,OAAH,OAAgB8C,EAAY9C,EAAOd,QACzDF,YAAcA,MAyBd,gCACE,8BACGuD,EAAKxC,KADR,aAEE,wBAAQzB,QAAU,WAb1BgF,OAAOC,aAAakB,WAAW,sBAavB,wBAtBR,cAAC,EAAD,CAAW/D,YAAY,WAAWL,IAAK0C,EAAvC,SACE,cAAC,EAAD,CACEzD,WAAYyE,EACZnF,SAAU2D,SAyBZ,8BACE,wBAAQjE,QAAS,kBAAMsE,GAAYD,IAAnC,SACGA,EAAU,OAAS,WAIxB,8BACe,IAAZA,EACCN,EAAMkC,KAAI,SAACrH,EAAMwH,GAAP,OACR,cAAC,EAAD,CAEExH,KAAMA,EACNC,WAAYA,EACZC,QAASA,GAHJsH,MAKP,SCxIZC,IAASC,OACP,cAAC,EAAD,IACAC,SAASC,eAAe,U","file":"static/js/main.ab5f0704.chunk.js","sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst Blog = ({ blog, updateBlog, delBlog }) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const showDetails = { display: visible ? '' : 'none' }\r\n  const hideDetails = { display: visible ? 'none' : '' }\r\n\r\n  const blogStyle = {\r\n    paddingTop: 10,\r\n    paddingLeft: 2,\r\n    border: 'solid',\r\n    borderWidth: 1,\r\n    marginBottom: 5\r\n  }\r\n\r\n  const like = (id) => {\r\n    updateBlog(id)\r\n  }\r\n\r\n  const deletBlog = (id) => {\r\n    delBlog(id)\r\n  }\r\n\r\n  return (\r\n    <div style={blogStyle}>\r\n      <div style={hideDetails} className=\"blog-preview\">\r\n        <b>Title: </b> {blog.title} <b>Likes: </b> {blog.likes}\r\n        <hr></hr>\r\n        <button id=\"likeButton\" onClick={() => like(blog.id, blog.title, blog.author, blog.content, blog.likes)}>Like</button>\r\n        <br></br>\r\n        <button onClick={() => setVisible(!visible)}>\r\n          { visible ? 'Hide' : 'More' }\r\n        </button>\r\n      </div>\r\n      <div style={showDetails} className=\"blog-full\">\r\n        <b>Title: </b> {blog.title}\r\n        <br></br>\r\n        <b>Author: </b> {blog.author}\r\n        <br></br>\r\n        <b>Content: </b> {blog.content}\r\n        <br></br>\r\n        <b>Likes: </b> {blog.likes}\r\n        <button onClick={() => like(blog.id, blog.title, blog.author, blog.content, blog.likes)}>Like</button>\r\n        <br></br>\r\n        <button onClick={() => setVisible(!visible)}>\r\n          { visible ? 'Hide' : 'More' }\r\n        </button>\r\n        <button onClick={() => deletBlog(blog.id)}>Delete</button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Blog","import '../App.css'\r\nimport React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"error\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst LoginForm = ({\r\n  username,\r\n  password,\r\n  handleUsernameChange,\r\n  handlePasswordChange,\r\n  handleLogin,\r\n}) => {\r\n  return (\r\n    <div>\r\n      <h2>Login</h2>\r\n      <form onSubmit={handleLogin}>\r\n        <div>\r\n          username\r\n          <input\r\n            id=\"username\"\r\n            value={username}\r\n            onChange={handleUsernameChange}\r\n          />\r\n        </div>\r\n        <div>\r\n          password\r\n          <input\r\n            id=\"password\"\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={handlePasswordChange}\r\n          />\r\n        </div>\r\n        <button id=\"login-button\" type=\"submit\">\r\n          login\r\n        </button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nLoginForm.propTypes = {\r\n  handleLogin: PropTypes.func.isRequired,\r\n  handleUsernameChange: PropTypes.func.isRequired,\r\n  handlePasswordChange: PropTypes.func.isRequired,\r\n  username: PropTypes.string.isRequired,\r\n  password: PropTypes.string.isRequired\r\n}\r\n\r\nexport default LoginForm","import React, { useState } from 'react'\r\n\r\nconst BlogForm = ({ createBlog, username }) => {\r\n  const [newTitle, setNewTitle] = useState('')\r\n  //const [newAuthor, setNewAuthor] = useState('')\r\n  const [newContent, setNewContent] = useState('')\r\n\r\n  console.log(username)\r\n  const handleTitle = event => {\r\n    setNewTitle(event.target.value)\r\n  }\r\n\r\n  /*const handleAuthor = event => {\r\n    setNewAuthor(event.target.value)\r\n  }*/\r\n\r\n  const handleContent = event => {\r\n    setNewContent(event.target.value)\r\n  }\r\n\r\n  const addBlog = (event) => {\r\n    event.preventDefault()\r\n    createBlog({\r\n      title: newTitle,\r\n      author: username.name,\r\n      content: newContent,\r\n      likes: 0\r\n    })\r\n\r\n    setNewTitle('')\r\n    //setNewAuthor('')\r\n    setNewContent('')\r\n  }\r\n\r\n  return (\r\n    <div className=\"formDiv\">\r\n      <form onSubmit={addBlog}>\r\n        <div>\r\n            Title:\r\n          <input\r\n            id=\"title\"\r\n            type=\"text\"\r\n            value={newTitle}\r\n            onChange={handleTitle}\r\n          />\r\n        </div>\r\n\r\n        {/*<div>\r\n            Author:\r\n          <input\r\n            type=\"text\"\r\n            value={newAuthor}\r\n            onChange={handleAuthor}\r\n          />\r\n        </div>*/}\r\n\r\n        <div>\r\n            Content:\r\n          <input\r\n            type=\"text\"\r\n            value={newContent}\r\n            onChange={handleContent}\r\n          />\r\n        </div>\r\n        <button type=\"submit\">Add</button>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default BlogForm","/* eslint-disable linebreak-style */\r\nimport React, { useState, useImperativeHandle } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Togglable = React.forwardRef((props, ref) => {\r\n  const [visible, setVisible] = useState(false)\r\n\r\n  const hideWhenVisible = { display: visible ? 'none' : '' }\r\n  const showWhenVisible = { display: visible ? '' : 'none' }\r\n\r\n  const toggleVisibility = () => {\r\n    setVisible(!visible)\r\n  }\r\n\r\n  useImperativeHandle(ref, () => {\r\n    return {\r\n      toggleVisibility\r\n    }\r\n  })\r\n\r\n  return (\r\n    <div>\r\n      <div style={hideWhenVisible}>\r\n        <button onClick={toggleVisibility}>{props.buttonLabel}</button>\r\n      </div>\r\n      <div style={showWhenVisible} className=\"blog-full\">\r\n        {props.children}\r\n        <button onClick={toggleVisibility}>cancel</button>\r\n      </div>\r\n    </div>\r\n  )\r\n})\r\n\r\nTogglable.displayName = 'Togglable'\r\nTogglable.propTypes = {\r\n  buttonLabel: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Togglable","import axios from 'axios'\r\nconst baseUrl = '/api/blogs'\r\n\r\nlet token = null\r\n\r\nconst setToken = newToken => {\r\n  token = `bearer ${newToken}`\r\n}\r\n\r\nconst getAll = async () => {\r\n  const response = await axios.get(baseUrl, token)\r\n  return response.data\r\n}\r\n\r\nconst getOne = async (id) => {\r\n  const response = await axios.get(`${baseUrl}/${id}`)\r\n  return response.data\r\n}\r\n\r\nconst createBlog = async newObject => {\r\n  const config = {\r\n    headers: { Authorization: token },\r\n  }\r\n\r\n  const response = await axios.post(baseUrl, newObject, config)\r\n  return response.data\r\n}\r\n\r\nconst update = async (id, newObject) => {\r\n  const request = axios.put(`${ baseUrl }/${id}`, newObject)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nconst deleteBlog = async (id) => {\r\n  const config = {\r\n    headers: { Authorization: token }\r\n  }\r\n  const request = axios.delete(`${ baseUrl }/${id}`, config)\r\n  const response = await request\r\n  return response.data\r\n}\r\n\r\nexport default { getAll, createBlog, update, setToken, deleteBlog, getOne }","import axios from 'axios'\r\nconst baseUrl = '/api/login'\r\n\r\nconst login = async credentials => {\r\n  const response = await axios.post(baseUrl, credentials)\r\n  return response.data\r\n}\r\n\r\nexport default { login }","/* eslint-disable linebreak-style */\r\nimport React, { useState, useEffect, useRef } from 'react'\r\nimport Blog from './components/Blog'\r\nimport Notification from './components/Notification'\r\nimport LoginForm from './components/LoginForm'\r\nimport BlogForm from './components/BlogForm'\r\nimport Togglable from './components/Togglabe'\r\nimport blogService from './services/blogs'\r\nimport loginService from './services/login'\r\nimport './App.css'\r\n\r\nconst App = () => {\r\n  const [blogs, setBlogs] = useState([])\r\n  const [user, setUser] = useState(null)\r\n  const [errorMessage, setErrorMessage] = useState(null)\r\n  const [showAll, setShowAll] = useState(true)\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const blogFormRef = useRef()\r\n\r\n  useEffect(() => {\r\n    blogService\r\n      .getAll()\r\n      .then(initialBlogs => {\r\n        setBlogs(initialBlogs)\r\n      })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    const loggedUserJSON = window.localStorage.getItem('loggedBlogappUser')\r\n    if (loggedUserJSON) {\r\n      const user = JSON.parse(loggedUserJSON)\r\n      setUser(user)\r\n      blogService.setToken(user.token)\r\n    }\r\n  }, [])\r\n\r\n  // ----- Handlers ------\r\n  const handleLogin = async (event) => {\r\n    event.preventDefault()\r\n    try {\r\n      const user = await loginService.login({\r\n        username, password,\r\n      })\r\n\r\n      window.localStorage.setItem(\r\n        'loggedBlogappUser', JSON.stringify(user)\r\n      )\r\n\r\n      blogService.setToken(user.token)\r\n      setUser(user)\r\n      setUsername('')\r\n      setPassword('')\r\n    } catch (exception) {\r\n      setErrorMessage('Wrong credentials')\r\n      setTimeout(() => {\r\n        setErrorMessage(null)\r\n      }, 5000)\r\n    }\r\n  }\r\n  // ----- Add blog function ------\r\n  const addBlog = (blogObject) => {\r\n    blogFormRef.current.toggleVisibility()\r\n    blogService\r\n      .createBlog(blogObject)\r\n      .then(returnedBlog => {\r\n        setBlogs(blogs.concat(returnedBlog))\r\n      })\r\n  }\r\n\r\n  // ----- Update Blog -----\r\n  const updateBlog = async (id) => {\r\n    const blog = blogs.find(blog => blog.id === id)\r\n    const toUpdate = { ...blog, likes: blog.likes + 1 }\r\n    const updateo = await blogService.update(id, toUpdate)\r\n    setBlogs(blogs.map(blog => blog.id !== id ? blog : updateo))\r\n  }\r\n\r\n  // ----- Delete Blog -----\r\n  const delBlog = async (id) => {\r\n    await blogService.deleteBlog(id)\r\n    setBlogs(blogs.filter(blog => blog.id !== id))\r\n  }\r\n\r\n  // ----- Forms -------\r\n  const loginForm = () => (\r\n    <Togglable buttonLabel='login'>\r\n      <LoginForm\r\n        username={username}\r\n        password={password}\r\n        handleUsernameChange={({ target }) => setUsername(target.value)}\r\n        handlePasswordChange={({ target }) => setPassword(target.value)}\r\n        handleLogin ={handleLogin}\r\n      />\r\n    </Togglable>\r\n  )\r\n\r\n  const blogForm = () => (\r\n    <Togglable buttonLabel='new blog' ref={blogFormRef}>\r\n      <BlogForm\r\n        createBlog={addBlog}\r\n        username={user}\r\n      />\r\n    </Togglable>\r\n  )\r\n\r\n  const logOut = () => {\r\n    window.localStorage.removeItem('loggedBlogappUser')\r\n  }\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <h2>Blogs</h2>\r\n      <Notification message={errorMessage}/>\r\n\r\n      {user === null ?\r\n        loginForm() :\r\n        <div>\r\n          <p>\r\n            {user.name} logged-in\r\n            <button onClick={(() => logOut())}>Log out</button>\r\n          </p>\r\n          {blogForm()}\r\n        </div>\r\n      }\r\n\r\n      <div>\r\n        <button onClick={() => setShowAll(!showAll)}>\r\n          {showAll ? 'hide' : 'show'}\r\n        </button>\r\n      </div>\r\n\r\n      <ul>\r\n        {showAll === true ?\r\n          blogs.map((blog, i) =>\r\n            <Blog\r\n              key={i}\r\n              blog={blog}\r\n              updateBlog={updateBlog}\r\n              delBlog={delBlog} />\r\n          )\r\n          : ''\r\n        }\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","/* eslint-disable linebreak-style */\r\nimport React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n)\r\n"],"sourceRoot":""}